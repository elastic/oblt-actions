name: elastic/github-commands
description: Print the supported GitHub commands
inputs:
  github-token:
    description: 'The GitHub access token.'
    required: false
    type: string
    default: ${{ github.token }}
  continue-on-error:
    description: 'Whether to continue on error.'
    required: false
    type: boolean
    default: true

runs:
  using: composite
  steps:
    - uses: actions/github-script@ed597411d8f924073f98dfc5c65a23a2325f34cd # v8.0.0
      continue-on-error: true
      with:
        github-token: ${{ inputs.github-token }}
        script: |
          const body = `
            ### :robot: GitHub comments

            <details><summary>Expand to view the GitHub comments</summary>
            <p>

            Just comment with:
            - \`run\` \`docs-build\` : Re-trigger the docs validation. (use unformatted text in the comment!)
            </p>
            </details>
          `.replace(/  +/g, '')
          github.rest.issues.createComment({
            issue_number: context.issue.number,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: body
          })
